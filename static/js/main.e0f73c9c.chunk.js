(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(66)},31:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(22),c=n.n(r),o=n(6),i=n(7),l=n(9),m=n(8),u=n(10),d=n(69),h=n(70),p=n(67),f=(n(31),n(33),n(35),n(37),n(39),n(41),n(68)),E=function(){return s.a.createElement("div",{className:"nav-bar"},s.a.createElement("h1",null,"Hacker News"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(f.a,{exact:!0,to:"/",activeClassName:"active"},"New Stories")),s.a.createElement("li",null,s.a.createElement(f.a,{to:"/topstories",activeClassName:"active"},"Top Stories")),s.a.createElement("li",null,s.a.createElement(f.a,{to:"/beststories",activeClassName:"active"},"Best Stories"))))},b=n(13),v=n(46),y=n(24),g=n.n(y).a.create({baseURL:"https://hacker-news.firebaseio.com/v0"}),k={numberOfStoriesPerPage:10,pageIndex:0},O=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).handlePreviousClick=function(){0!==e.pageIndex&&(e.pageIndex=e.pageIndex-1,e.setStories())},e.handleNextClick=function(){e.pageIndex>e.state.storyIds.length||(e.pageIndex=e.pageIndex+1,e.setStories())},e.setStories=function(){e.setState({stories:[],storyIdsPerPage:e.state.storyIds.slice(e.pageIndex*e.numberOfStoriesPerPage,(e.pageIndex+1)*e.numberOfStoriesPerPage)},function(){e.fetchStories()})},e.fetchStories=function(){e.state.storyIdsPerPage.map(function(t){return g.get("/item/".concat(t,".json")).then(function(t){return e.setState({stories:[].concat(Object(b.a)(e.state.stories),[t.data])})}).catch(function(e){return e})})},e.pageIndex=k.pageIndex,e.numberOfStoriesPerPage=k.numberOfStoriesPerPage,e.state={storyIds:[],stories:[],storyIdsPerPage:[],buttonEnable:!0},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.get("/".concat(this.props.option,".json")).then(function(t){e.setState({storyIds:t.data},function(){return e.setState({storyIdsPerPage:e.state.storyIds.slice(e.pageIndex,e.numberOfStoriesPerPage)},function(){return e.fetchStories()})})}).catch(function(e){return e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"stories"},s.a.createElement("div",{className:"pagination"},s.a.createElement("button",{className:"previous",onClick:function(){return e.handlePreviousClick()}},"Previous"),s.a.createElement("span",null,this.pageIndex+1),s.a.createElement("button",{className:"next",onClick:function(){return e.handleNextClick()}},"Next")),s.a.createElement("ul",null,this.state.stories.map(function(e){return s.a.createElement("li",{key:e.id},s.a.createElement("div",{className:"story"},s.a.createElement("div",{className:"title"},e.url?s.a.createElement("a",{href:e.url},e.title):s.a.createElement(v.a,{to:{pathname:"/".concat(e.id),state:{story:e}}},e.title)),s.a.createElement("div",{className:"info"},s.a.createElement("span",{className:"by"},"-",e.by),s.a.createElement("span",{className:"score"},"Score: ",e.score),e.descendants?s.a.createElement(v.a,{to:{pathname:"/".concat(e.id),state:{story:e}}},s.a.createElement("span",{className:"comments-count"},e.descendants," Comments")):null)))})))}}]),t}(s.a.Component),j=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){n.state.kids.forEach(function(e){g.get("/item/".concat(e,".json")).then(function(e){return n.setState({comments:[].concat(Object(b.a)(n.state.comments),[e.data])})}).catch(function(e){return e})})},n.state={comments:[],kids:e.kids},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.comments&&this.state.comments.length>0?this.state.comments.map(function(e){return s.a.createElement("div",{className:"parent-comment",key:e.id},e.deleted?"*comment deleted*":s.a.createElement("div",{className:"comment"},s.a.createElement("div",{className:"comment-text",dangerouslySetInnerHTML:{__html:e.text}}),s.a.createElement("div",{className:"comment-by"},"-",e.by)),e.kids?s.a.createElement("div",{className:"child-comment"},s.a.createElement(t,{kids:e.kids})):null)}):null}}]),t}(s.a.Component),N=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={story:[]},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({story:this.props.location.state.story})}},{key:"render",value:function(){return s.a.createElement("div",{className:"story-div"},s.a.createElement("h2",null,this.state.story.title),this.state.story.text?s.a.createElement("div",{className:"story-text",dangerouslySetInnerHTML:{__html:this.state.story.text}}):null,this.state.story.kids&&this.state.story.kids.length>0?s.a.createElement(j,{kids:this.state.story.kids}):null)}}]),t}(s.a.Component),x=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(d.a,{basename:"/hackernews"},s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"container"},s.a.createElement(E,null),s.a.createElement(h.a,null,s.a.createElement(p.a,{exact:!0,path:"/",component:function(e){return s.a.createElement(O,Object.assign({},e,{option:"newstories"}))}}),s.a.createElement(p.a,{path:"/topstories",component:function(e){return s.a.createElement(O,Object.assign({},e,{option:"topstories"}))}}),s.a.createElement(p.a,{path:"/beststories",component:function(e){return s.a.createElement(O,Object.assign({},e,{option:"beststories"}))}}),s.a.createElement(p.a,{path:"/:story_id",component:N})))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.e0f73c9c.chunk.js.map